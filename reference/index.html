<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><title>Function reference â€¢ retroharmonize</title><!-- favicons --><link rel="icon" type="image/png" sizes="16x16" href="../favicon-16x16.png"><link rel="icon" type="image/png" sizes="32x32" href="../favicon-32x32.png"><link rel="apple-touch-icon" type="image/png" sizes="180x180" href="../apple-touch-icon.png"><link rel="apple-touch-icon" type="image/png" sizes="120x120" href="../apple-touch-icon-120x120.png"><link rel="apple-touch-icon" type="image/png" sizes="76x76" href="../apple-touch-icon-76x76.png"><link rel="apple-touch-icon" type="image/png" sizes="60x60" href="../apple-touch-icon-60x60.png"><script src="../deps/jquery-3.6.0/jquery-3.6.0.min.js"></script><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><link href="../deps/bootstrap-5.1.0/bootstrap.min.css" rel="stylesheet"><script src="../deps/bootstrap-5.1.0/bootstrap.bundle.min.js"></script><link href="../deps/_Roboto%20Mono-0.4.0/font.css" rel="stylesheet"><!-- Font Awesome icons --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous"><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous"><!-- bootstrap-toc --><script src="https://cdn.rawgit.com/afeld/bootstrap-toc/v1.0.1/dist/bootstrap-toc.min.js"></script><!-- headroom.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script><!-- clipboard.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script><!-- search --><script src="https://cdnjs.cloudflare.com/ajax/libs/fuse.js/6.4.6/fuse.js" integrity="sha512-zv6Ywkjyktsohkbp9bb45V6tEMoWhzFzXis+LrMehmJZZSys19Yxf1dopHx7WzIKxr5tK2dVcYmaCk2uqdjF4A==" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/autocomplete.js/0.38.0/autocomplete.jquery.min.js" integrity="sha512-GU9ayf+66Xx2TmpxqJpliWbT5PiGYxpaG8rfnBEk1LL8l1KGkRShhngwdXK1UgqhAzWpZHSiYPc09/NwDQIGyg==" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mark.js/8.11.1/mark.min.js" integrity="sha512-5CYOlHXGh6QpOFA/TeTylKLWfB3ftPsde7AnmhuitiTX4K5SqCLBeKro6sPS8ilsz1Q4NRx3v8Ko2IBiszzdww==" crossorigin="anonymous"></script><!-- pkgdown --><script src="../pkgdown.js"></script><meta property="og:title" content="Function reference"><meta property="og:image" content="https://ropengov.github.io/retroharmonize/logo.png"><meta name="twitter:card" content="summary_large_image"><meta name="twitter:creator" content="@rOpenGov"><meta name="twitter:site" content="@rOpenGov"><!-- mathjax --><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script><!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]--><link rel="preconnect" href="https://fonts.googleapis.com"><link rel="preconnect" href="https://fonts.gstatic.com" crossorigin><link href="https://fonts.googleapis.com/css2?family=B612+Mono&amp;display=swap" rel="stylesheet"><!-- rogtemplate style sheet --><link href="../BS5/rogtemplate.css" rel="stylesheet"></head><body>
    <a href="#main" class="visually-hidden-focusable">Skip to contents</a>
    

    <nav class="navbar fixed-top navbar-dark navbar-expand-lg bg-dark"><div class="container">
    
    <a class="navbar-brand me-2" href="../index.html">retroharmonize</a>

    <small class="nav-text text-muted me-auto" data-bs-toggle="tooltip" data-bs-placement="bottom" title="">0.2.4</small>

    
    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbar" aria-controls="navbar" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>

    <div id="navbar" class="collapse navbar-collapse ms-2">
      <ul class="navbar-nav me-auto"><li class="nav-item">
  <a class="nav-link" href="../articles/retroharmonize.html">Get started</a>
</li>
<li class="active nav-item">
  <a class="nav-link" href="../reference/index.html">Reference</a>
</li>
<li class="nav-item">
  <a class="nav-link" href="../articles/index.html">Articles</a>
</li>
<li class="nav-item">
  <a class="nav-link" href="../news/index.html">Changelog</a>
</li>
      </ul><form class="form-inline my-2 my-lg-0" role="search">
        <input type="search" class="form-control me-sm-2" aria-label="Toggle navigation" name="search-input" data-search-index="../search.json" id="search-input" placeholder="Search for" autocomplete="off"></form>

      <ul class="navbar-nav"><li class="nav-item">
  <a class="external-link nav-link" href="https://github.com/rOpenGov/retroharmonize/" aria-label="github">
    <span class="fab fa fab fa-github fa-lg"></span>
     
  </a>
</li>
      </ul></div>

    
  </div>
</nav><div class="container template-reference-index">
<div class="row">
  <main id="main" class="col-md-9"><div class="page-header">
      <img src="../logo.png" class="logo" alt=""><h1>Function reference</h1>
    </div>

    <div class="section level2">
      <h2 id="importing">Importing<a class="anchor" aria-label="anchor" href="#importing"></a></h2>
      
      <p class="section-desc"></p><p>Survey data, i.e., data derived from questionnaires or systematic data collection, such as inspecting objects in nature, recording prices at shops are usually stored databases, and converted to complex files retaining at least coding, labelling metadata together with the data. This must be imported to R so that the appropriate harmonization tasks can be carried out with the appropriate R types.</p>

      
    </div><div id="" class="section level2">
      
      
      

      <dl><dt>
          
          <code><a href="read_surveys.html">read_surveys()</a></code> <code><a href="read_surveys.html">read_survey()</a></code> 
        </dt>
        <dd>Read survey file(s)</dd>
      </dl><dl><dt>
          
          <code><a href="read_rds.html">read_rds()</a></code> 
        </dt>
        <dd>Read rds file</dd>
      </dl><dl><dt>
          
          <code><a href="read_spss.html">read_spss()</a></code> 
        </dt>
        <dd>Read SPSS (`.sav`, `.zsav`, `.por`) files. Write `.sav` and `.zsav` files.</dd>
      </dl><dl><dt>
          
          <code><a href="read_dta.html">read_dta()</a></code> 
        </dt>
        <dd>Read Stata DTA files (`.dta`) files</dd>
      </dl><dl><dt>
          
          <code><a href="read_csv.html">read_csv()</a></code> 
        </dt>
        <dd>Read csv file</dd>
      </dl><dl><dt>
          
          <code><a href="pull_survey.html">pull_survey()</a></code> 
        </dt>
        <dd>Pull a survey from a survey list</dd>
      </dl></div><div class="section level2">
      <h2 id="harmonizing-concepts-with-metadata">Harmonizing concepts with metadata<a class="anchor" aria-label="anchor" href="#harmonizing-concepts-with-metadata"></a></h2>
      
      <p class="section-desc"></p><p>After importing data with some <strong>descriptive metadata</strong> such as <strong>numerical coding</strong> and <strong>labelling</strong>, we need to create a map of the information that is in our R session to prepare a harmonization plan. We must find information related to sufficiently similar concepts that can be harmonized to be successfully joined into a single variable, and eventually a table of similar variables must be joined.</p>

      
    </div><div id="" class="section level2">
      
      
      

      <dl><dt>
          
          <code><a href="metadata_create.html">metadata_create()</a></code> <code><a href="metadata_create.html">metadata_waves_create()</a></code> 
        </dt>
        <dd>Create a metadata table from several surveys</dd>
      </dl><dl><dt>
          
          <code><a href="metadata_survey_create.html">metadata_survey_create()</a></code> 
        </dt>
        <dd>Create a metadata table</dd>
      </dl><dl><dt>
          
          <code><a href="retroharmonize.html">retroharmonize</a></code> 
        </dt>
        <dd>retroharmonize: Retrospective harmonization of survey data files</dd>
      </dl></div><div class="section level2">
      <h2 id="crosswalk">Crosswalk<a class="anchor" aria-label="anchor" href="#crosswalk"></a></h2>
      
      <p class="section-desc"></p><p>Laying out the harmonization <strong>crosswalk scheme</strong> (unifying variable names, codes, labels.) See the vignette <a href="https://retroharmonize.dataobservatory.eu/articles/crosswalk.html" class="external-link">Working with a Crosswalk Table</a> for examples and further clarification.</p>

      
    </div><div id="" class="section level2">
      
      
      

      <dl><dt>
          
          <code><a href="crosswalk_table_create.html">crosswalk_table_create()</a></code> <code><a href="crosswalk_table_create.html">is.crosswalk_table()</a></code> 
        </dt>
        <dd>Create a crosswalk table</dd>
      </dl><dl><dt>
          
          <code><a href="crosswalk_surveys.html">crosswalk_surveys()</a></code> <code><a href="crosswalk_surveys.html">crosswalk()</a></code> 
        </dt>
        <dd>Crosswalk surveys</dd>
      </dl></div><div class="section level2">
      <h2 id="subsetting">Subsetting<a class="anchor" aria-label="anchor" href="#subsetting"></a></h2>
      
      <p class="section-desc"></p><p>Remove variables that <strong>cannot be harmonized</strong> in your workflow either in memory (faster for smaller tasks) or sequentially from files. See the vignette <a href="https://retroharmonize.dataobservatory.eu/articles/crosswalk.html" class="external-link">Working with a Crosswalk Table</a> for examples and further clarification.</p>

      
    </div><div id="" class="section level2">
      
      
      

      <dl><dt>
          
          <code><a href="subset_surveys.html">subset_surveys()</a></code> <code><a href="subset_surveys.html">subset_waves()</a></code> <code><a href="subset_surveys.html">subset_save_surveys()</a></code> 
        </dt>
        <dd>Subset surveys</dd>
      </dl></div><div class="section level2">
      <h2 id="harmonize-variable-names">Harmonize variable names<a class="anchor" aria-label="anchor" href="#harmonize-variable-names"></a></h2>
      
      <p class="section-desc"></p><p>Before joining variables containing responses about the same concept, make sure that they have <strong>identical names</strong> in the re-processed surveys. See the vignette <a href="https://retroharmonize.dataobservatory.eu/articles/crosswalk.html" class="external-link">Working with a Crosswalk Table</a> for examples and further clarification.</p>

      
    </div><div id="" class="section level2">
      
      
      

      <dl><dt>
          
          <code><a href="harmonize_var_names.html">harmonize_var_names()</a></code> 
        </dt>
        <dd>Harmonize the variable names of surveys</dd>
      </dl><dl><dt>
          
          <code><a href="label_normalize.html">label_normalize()</a></code> <code><a href="label_normalize.html">var_label_normalize()</a></code> <code><a href="label_normalize.html">val_label_normalize()</a></code> 
        </dt>
        <dd>Normalize value and variable labels</dd>
      </dl><dl><dt>
          
          <code><a href="harmonize_survey_variables.html">harmonize_survey_variables()</a></code> 
        </dt>
        <dd>Harmonize survey variables</dd>
      </dl></div><div class="section level2">
      <h2 id="harmonize-numerical-codes-and-labels">Harmonize numerical codes and labels<a class="anchor" aria-label="anchor" href="#harmonize-numerical-codes-and-labels"></a></h2>
      
      <p class="section-desc"></p><p>To merge variables from different surveys into a single variable, you must make sure that the numerical codes and labels, for example <em>0=â€˜noâ€™</em> and <em>1=â€˜yesâ€™</em> are processed identically. See the vignette <a href="https://retroharmonize.dataobservatory.eu/articles/harmonize_labels.html" class="external-link">Harmonize Value Labels</a> for examples and further clarification.</p>

      
    </div><div id="" class="section level2">
      
      
      

      <dl><dt>
          
          <code><a href="collect_val_labels.html">collect_val_labels()</a></code> <code><a href="collect_val_labels.html">collect_na_labels()</a></code> 
        </dt>
        <dd>Collect labels from metadata file</dd>
      </dl><dl><dt>
          
          <code><a href="harmonize_values.html">harmonize_values()</a></code> 
        </dt>
        <dd>Harmonize the values and labels of labelled vectors</dd>
      </dl><dl><dt>
          
          <code><a href="harmonize_survey_values.html">harmonize_survey_values()</a></code> <code><a href="harmonize_survey_values.html">harmonize_waves()</a></code> 
        </dt>
        <dd>Harmonize values in surveys</dd>
      </dl><dl><dt>
          
          <code><a href="merge_surveys.html">merge_surveys()</a></code> <code><a href="merge_surveys.html">merge_waves()</a></code> 
        </dt>
        <dd>Merge surveys</dd>
      </dl></div><div class="section level2">
      <h2 id="harmonize-missing-and-special-cases">Harmonize missing and special cases<a class="anchor" aria-label="anchor" href="#harmonize-missing-and-special-cases"></a></h2>
      
      <p class="section-desc"></p><p>Some variable codes have a special meaning, such as a various labels of <strong>missing values</strong> which need to be converted differently to numeric, factor or character representation. See the vignette <a href="https://retroharmonize.dataobservatory.eu/articles/harmonize_labels.html" class="external-link">Harmonize Value Labels</a> for examples and further clarification.</p>

      
    </div><div id="" class="section level2">
      
      
      

      <dl><dt>
          
          <code><a href="collect_val_labels.html">collect_val_labels()</a></code> <code><a href="collect_val_labels.html">collect_na_labels()</a></code> 
        </dt>
        <dd>Collect labels from metadata file</dd>
      </dl><dl><dt>
          
          <code><a href="na_range_to_values.html">na_range_to_values()</a></code> <code><a href="na_range_to_values.html">is.na_range_to_values()</a></code> 
        </dt>
        <dd>Harmonize user-defined missing value ranges</dd>
      </dl><dl><dt>
          
          <code><a href="harmonize_na_values.html">harmonize_na_values()</a></code> 
        </dt>
        <dd>Harmonize na_values in haven_labelled_spss</dd>
      </dl></div><div class="section level2">
      <h2 id="documentation-functions">Documentation functions<a class="anchor" aria-label="anchor" href="#documentation-functions"></a></h2>
      
      <p class="section-desc"></p><p>These functionality requires a thorough review.</p>

      
    </div><div id="" class="section level2">
      
      
      

      <dl><dt>
          
          <code><a href="document_survey_item.html">document_survey_item()</a></code> 
        </dt>
        <dd>Document survey item harmonization</dd>
      </dl><dl><dt>
          
          <code><a href="document_surveys.html">document_surveys()</a></code> <code><a href="document_surveys.html">document_waves()</a></code> 
        </dt>
        <dd>Document survey lists</dd>
      </dl><dl><dt>
          
          <code><a href="create_codebook.html">create_codebook()</a></code> <code><a href="create_codebook.html">codebook_waves_create()</a></code> <code><a href="create_codebook.html">codebook_surveys_create()</a></code> 
        </dt>
        <dd>Create a codebook</dd>
      </dl></div><div class="section level2">
      <h2 id="type-conversion">Type conversion<a class="anchor" aria-label="anchor" href="#type-conversion"></a></h2>
      
      <p class="section-desc"></p><p>Consistently treat labels, missing value ranges, missing value labels imported from SPSS, STATA or other source to use R language statistical functions, which mainly work with the base class of <strong>numeric</strong> or <strong>factor</strong>. For data visualization, the base class <strong>character</strong> may be preferred. See vignette <a href="https://retroharmonize.dataobservatory.eu/articles/labelled_spss_survey.html" class="external-link">The labelled_spss_survey class</a> for further information.</p>

      
    </div><div id="" class="section level2">
      
      
      

      <dl><dt>
          
          <code><a href="survey.html">survey()</a></code> <code><a href="survey.html">is.survey()</a></code> <code><a href="survey.html">summary(<i>&lt;survey&gt;</i>)</a></code> 
        </dt>
        <dd>Create a survey data frame</dd>
      </dl><dl><dt>
          
          <code><a href="labelled_spss_survey.html">labelled_spss_survey()</a></code> <code><a href="labelled_spss_survey.html">as_character()</a></code> <code><a href="labelled_spss_survey.html">is.labelled_spss_survey()</a></code> <code><a href="labelled_spss_survey.html">as_numeric()</a></code> 
        </dt>
        <dd>Labelled vectors for multiple SPSS surveys</dd>
      </dl><dl><dt>
          
          <code><a href="as_labelled_spss_survey.html">as_labelled_spss_survey()</a></code> 
        </dt>
        <dd>Labelled to labelled_spss_survey</dd>
      </dl><dl><dt>
          
          <code><a href="concatenate.html">concatenate()</a></code> 
        </dt>
        <dd>Concatenate haven_labelled_spss vectors</dd>
      </dl><dl><dt>
          
          <code><a href="as_factor.html">as_factor()</a></code> 
        </dt>
        <dd>Convert labelled_spss_survey vector To Factor</dd>
      </dl></div>
  </main><aside class="col-md-3"><nav id="toc"><h2>On this page</h2>
    </nav></aside></div>


    <footer><div class="pkgdown-footer-left">
  <p></p><p>Developed by <a href="https://reprex.nl/authors/daniel_antal/" class="external-link">Daniel Antal</a>.</p>
</div>

<div class="pkgdown-footer-right">
  <p></p><p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.0.1.</p>
</div>

    </footer></div>

  

    <!-- Add ropengov logo -->
  <script src="../BS5/logo.js"></script></body></html>

